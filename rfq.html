<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css">    
    <link href="./css/common.css" rel="stylesheet">
    <link href="./css/rfq.css" rel="stylesheet">
    <title>RFQ</title>
  </head>
  <body>
    <div id="header"></div>
    <div>
      <div class="container_view">
        <div class="rfq_view">
          <div class="rfq_view_nav">
            Product
            <i class="iconfont">&#xe65e;</i>
            <span>RFQ</span>
          </div>
          <div class="container_view whitebg">
            <div class="rfq_view_section" style="border-bottom: 1px solid #C7CDD2;">
              <h3 class="rfq_view_section_title">
                Contact us now to get the immidiately suppot, Please describe your 
                demands as detail as possible for better services.
              </h3>
              <p class="rfq_view_section_subtitle">MAIL: </p>
              <input
                class="rfq_view_section_value"
                id="mail"
              />
              <p class="rfq_view_section_subtitle">Company name :</p>
              <input
                class="rfq_view_section_value"
                id="company"
              />
              <p class="rfq_view_section_subtitle">TEL:</p>
              <input
                class="rfq_view_section_value"
                id="tel"
              />
            </div>
            <div class="rfq_view_section" style="border-bottom: 1px solid #C7CDD2;">
              <table class="rfq_view_section_table">
                <thead>
                  <tr>
                    <td>Part Number</td>
                    <td>Manufacturer</td>
                    <td>Quantity</td>
                    <td>Lead Time</td>
                    <td>Lead Time</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="number">
                      <input />
                    </td>
                    <td class="Manu">
                      <input />
                    </td>
                    <td class="quantity">
                      <input />
                    </td>
                    <td class="Lead">
                      <input />
                    </td>
                    <td class="time">
                      <input />
                    </td>
                  </tr>
                </tbody>
              </table>
              <a class="rfq_view_section_add">
                <i class="iconfont">&#xe682;</i>Add More Item 
              </a>
            </div>
            <div class="rfq_view_section">
              <p class="rfq_view_section_subtitle">Title :</p>
              <input
                class="rfq_view_section_value"
                id="title"
              />
              <p class="rfq_view_section_subtitle">Comments :</p>
              <textarea
                class="rfq_view_section_text"
                id="comment"
              ></textarea>
              <a class="rfq_view_section_submit">Submit</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer"></div>
  </body>
  <script src="./js/jquery-3.6.1.min.js"></script>
  <script src="./js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"> </script>
  <script>
    $(document).ready(function(){
      $('#header').load('./header.html');
      $('#footer').load('./footer.html');
      $('.rfq_view_section_add').click(function(){
        let str = '';
        str += '<tr>';
        str += '<td class="number"><input /></td>';
        str += '<td class="Manu"><input /></td>';
        str += '<td class="quantity"><input /></td>';
        str += '<td class="Lead"><input /></td>';
        str += '<td class="time"><input /></td>';
        str += '</tr>';
        $('.rfq_view_section table tbody').append(str);
      });
      $('.rfq_view_section_submit').click(function(){
        let tds = $('.rfq_view_section_table').find('tbody').find('tr');
        // console.log('tds', tds)
        let list = [];
        for (let i = 0; i < tds.length; i++) {
          let data = {};
          data.number = $(tds).eq(i).find('.number').find('input').val();
          data.Manu = $(tds).eq(i).find('.Manu').find('input').val();
          data.quantity = $(tds).eq(i).find('.quantity').find('input').val();
          data.Lead = $(tds).eq(i).find('.Lead').find('input').val();
          data.time = $(tds).eq(i).find('.time').find('input').val();
          list.push(data)
        }
        let params = {
          mail: $('#mail').val(),
          company: $('#company').val(),
          tel: $('#tel').val(),
          title: $('#title').val(),
          comment: $('#comment').val(),
          list: list
        }
        $.ajax({
          url: 'https://www.baidu.com',
          type: 'post',
          data: params,
          dataType: 'json',
          success: function() {

          },
          error: function() {

          }
        })
      })
		});
  </script>
</html>